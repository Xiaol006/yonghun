{"version":3,"file":"CJA_Bhfg.js","sources":["../../src/components/TicketCard/index.vue","../../src/views/report/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"ticket-card\">\r\n        <h1>{{ num }}</h1>\r\n        <h2>{{ title }}</h2>\r\n        <div style=\"height: calc(178px - 68px - 57px)\"></div>\r\n        <p>\r\n            对比昨天<span>{{ compare }} </span>\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { color } from 'echarts'\r\nimport { ref, reactive, onMounted, computed, watch } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nconst props = defineProps({\r\n    num: Number,\r\n    title: String,\r\n    compare: String\r\n})\r\n\r\n// 主题颜色\r\nlet themeColor = reactive({\r\n    border: '1px solid #51e474',\r\n    backgroundColor: '#f9fff9',\r\n    color: '#51e474'\r\n})\r\n\r\n// 计算主题颜色\r\nwatch(\r\n    () => props.compare,\r\n    (val) => {\r\n        let sum = Number(val?.split('%')[0])\r\n        console.log(sum)\r\n        if (sum >= 0) {\r\n            themeColor.border = '1px solid #f60101'\r\n            themeColor.backgroundColor = '#fffafa '\r\n            themeColor.color = '#f60101'\r\n        }\r\n        if (sum < 0) {\r\n            themeColor.border = '1px solid #51e474'\r\n            themeColor.backgroundColor = '#f9fff9'\r\n            themeColor.color = '#51e474'\r\n        }\r\n    },\r\n    {\r\n        immediate: true,\r\n        deep: true\r\n    }\r\n)\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.ticket-card {\r\n    width: 100%;\r\n    height: 178px;\r\n    border-radius: 8px;\r\n    background-color: v-bind('themeColor.backgroundColor');\r\n    box-sizing: border-box;\r\n    padding: 18px 20px;\r\n    border: v-bind('themeColor.border');\r\n    h1 {\r\n        font-size: 42px;\r\n        font-weight: bold;\r\n        line-height: 32px;\r\n        letter-spacing: 0px;\r\n        color: #333333;\r\n    }\r\n    h2,\r\n    p {\r\n        font-weight: 500;\r\n        letter-spacing: 0px;\r\n        font-variation-settings: 'opsz' auto;\r\n        color: #414141;\r\n    }\r\n    h2 {\r\n        font-size: 16px;\r\n        line-height: 20px;\r\n        margin-top: 16px;\r\n    }\r\n    p {\r\n        font-size: 12px;\r\n        line-height: 16px;\r\n\r\n        span {\r\n            font-size: 16px;\r\n            font-weight: 500;\r\n            letter-spacing: 0px;\r\n            color: v-bind('themeColor.color');\r\n            margin-left: 12px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","<template>\r\n    <el-form inline>\r\n        <el-form-item label=\"经销商\">\r\n            <el-input v-model=\"searchForm.dealer\" placeholder=\"请输入经销商\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"业务员\">\r\n            <el-input v-model=\"searchForm.salesConsultant\" placeholder=\"请输入业务员\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"时间\">\r\n            <el-date-picker v-model=\"searchForm.date\" type=\"daterange\" range-separator=\"-\" start-placeholder=\"开始时间\" end-placeholder=\"结束时间\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"报表类型\">\r\n            <el-select v-model=\"searchForm.type\" placeholder=\"请选择报表类型\" style=\"width: 240px\">\r\n                <el-option label=\"名称一\" value=\"1\" />\r\n                <el-option label=\"名称二\" value=\"2\" />\r\n                <el-option label=\"名称三\" value=\"3\" />\r\n            </el-select>\r\n        </el-form-item>\r\n    </el-form>\r\n    <!-- 表格 -->\r\n    <div style=\"padding: 20px\">\r\n        <table style=\"width: 100%; border-collapse: collapse; color: black; margin: 20px 0\">\r\n            <tr>\r\n                <td\r\n                    style=\"\r\n                        font-size: 16px;\r\n                        font-weight: bold;\r\n                        line-height: 24px;\r\n                        display: flex;\r\n                        align-items: center;\r\n                        letter-spacing: 0.04em;\r\n                        padding-left: 8px;\r\n                        border-left: 4px solid #ff2e2e;\r\n                        margin-bottom: 8px;\r\n                    \"\r\n                >\r\n                    XXX有限公司表单\r\n                </td>\r\n                <td style=\"width: 176px\">所在城市:深圳</td>\r\n                <td style=\"width: 172px\">品牌：小米</td>\r\n                <td style=\"width: 250px\">执行老师及联系电话吴哈哈</td>\r\n            </tr>\r\n        </table>\r\n        <el-table :data=\"tableData\">\r\n            <el-table-column label=\"销售顾问\" align=\"center\" width=\"120\" prop=\"salesConsultant\" />\r\n            <el-table-column label=\"目标数据\" align=\"center\">\r\n                <el-table-column label=\"门票目标\" prop=\"ticketObjectives\" align=\"center\" />\r\n                <el-table-column label=\"冲刺目标\" prop=\"sprintGoals\" align=\"center\" />\r\n            </el-table-column>\r\n            <el-table-column label=\"过程数据\" align=\"center\">\r\n                <el-table-column label=\"累计首次接待\" prop=\"cumulativeFirstReception\" align=\"center\" />\r\n                <el-table-column label=\"累计邀约到店\" prop=\"cumulativeInvitationsToTheStore\" align=\"center\" />\r\n                <el-table-column label=\"累计呼出数\" prop=\"cumulativeNumberOfOutboundCalls\" align=\"center\" />\r\n                <el-table-column label=\"累计战败数\" prop=\"accumulatedDefeats\" align=\"center\" />\r\n                <el-table-column label=\"累计订单数\" prop=\"cumulativeNumberOfOrders\" align=\"center\" />\r\n            </el-table-column>\r\n            <el-table-column label=\"结果数据\" align=\"center\">\r\n                <el-table-column label=\"订单缺口\" prop=\"orderGaps\" align=\"center\" />\r\n                <el-table-column label=\"订单进度达成率\" prop=\"orderProgressFulfillmentRate\" align=\"center\" />\r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n    <!-- 工单 -->\r\n    <b-card title=\"工单\">\r\n        <div style=\"display: flex; justify-content: space-between; gap: 20px\">\r\n            <TicketCard title=\"累计首次接待\" :num=\"365\" compare=\"-35%\" />\r\n            <TicketCard title=\"累计邀约到店\" :num=\"365\" compare=\"-35%\" />\r\n            <TicketCard title=\"累计呼出数\" :num=\"365\" compare=\"-35%\" />\r\n            <TicketCard title=\"累计战败数\" :num=\"365\" compare=\"35%\" />\r\n            <TicketCard title=\"累计订单数\" :num=\"365\" compare=\"35%\" /></div\r\n    ></b-card>\r\n    <div class=\"echarts-box\">\r\n        <b-card title=\"销售订单排名\" style=\"grid-area: a; height: 100%\">\r\n            <div class=\"echarts\" style=\"height: 100%\" id=\"salesOrderRanking\"></div>\r\n        </b-card>\r\n        <b-card title=\"首次响应时间\" style=\"grid-area: b\">\r\n            <div class=\"echarts\" id=\"firstResponseTime\"></div>\r\n        </b-card>\r\n        <b-card title=\"平均响应时间\" style=\"grid-area: c\">\r\n            <div class=\"echarts\" id=\"averageResponseTime\"></div>\r\n        </b-card>\r\n        <b-card title=\"过去30天的报名数\" style=\"grid-area: d\">\r\n            <div class=\"echarts\" id=\"numberOfRegistrationsInTheLast30Days\"></div>\r\n        </b-card>\r\n        <b-card title=\"过去30天的订单数\" style=\"grid-area: e\">\r\n            <div class=\"echarts\" id=\"theNumberOfOrdersInTheLast30Days\"></div>\r\n        </b-card>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted, nextTick, shallowRef } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport http from '@/util/http'\r\nimport * as echarts from 'echarts'\r\n\r\nlet searchForm = ref({\r\n    dealer: '',\r\n    salesConsultant: '',\r\n    date: [],\r\n    type: 1\r\n})\r\n\r\n// 图表数据\r\nlet option1 = ref({})\r\nlet option2 = ref({})\r\nlet option3 = ref({})\r\nlet option4 = ref({})\r\nlet option5 = ref({})\r\n\r\nlet myChart1 = shallowRef()\r\nlet myChart2 = shallowRef()\r\nlet myChart3 = shallowRef()\r\nlet myChart4 = shallowRef()\r\nlet myChart5 = shallowRef()\r\n\r\n// 初始化echarts\r\nconst initEcharts = function () {\r\n    // 获取DOM元素\r\n    let salesOrderRankingDOM = document.getElementById('salesOrderRanking')\r\n    let firstResponseTimeDOM = document.getElementById('firstResponseTime')\r\n    let averageResponseTimeDOM = document.getElementById('averageResponseTime')\r\n    let numberOfRegistrationsInTheLast30DaysDOM = document.getElementById('numberOfRegistrationsInTheLast30Days')\r\n    let theNumberOfOrdersInTheLast30DaysDOM = document.getElementById('theNumberOfOrdersInTheLast30Days')\r\n\r\n    // 初始化Echarts实例\r\n    myChart1.value = echarts.init(salesOrderRankingDOM)\r\n    myChart2.value = echarts.init(firstResponseTimeDOM)\r\n    myChart3.value = echarts.init(averageResponseTimeDOM)\r\n    myChart4.value = echarts.init(numberOfRegistrationsInTheLast30DaysDOM)\r\n    myChart5.value = echarts.init(theNumberOfOrdersInTheLast30DaysDOM)\r\n}\r\n\r\nhttp({\r\n    url: '/echarts1',\r\n    method: 'POST'\r\n}).then((res) => {\r\n    nextTick(() => {\r\n        option1.value = res.data.option\r\n        initEcharts()\r\n        // 配置数据\r\n        myChart1.value && myChart1.value.setOption(option1.value)\r\n        myChart2.value.setOption({\r\n            xAxis: {\r\n                type: 'category',\r\n                boundaryGap: false,\r\n                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n            },\r\n            yAxis: {\r\n                type: 'value'\r\n            },\r\n            series: [\r\n                {\r\n                    data: [820, 932, 901, 934, 1290, 1330, 1320],\r\n                    type: 'line',\r\n                    areaStyle: {},\r\n                    itemStyle: {\r\n                        normal: {\r\n                            //颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\r\n                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                                {\r\n                                    offset: 0,\r\n                                    color: '#d7f4f8' // 0% 处的颜色\r\n                                },\r\n                                {\r\n                                    offset: 0.5,\r\n                                    color: '#eefcfd' // 100% 处的颜色\r\n                                },\r\n                                {\r\n                                    offset: 1,\r\n                                    color: '#fff' // 100% 处的颜色\r\n                                }\r\n                            ]), //背景渐变色\r\n                            lineStyle: {\r\n                                // 系列级个性化折线样式\r\n                                width: 3,\r\n                                type: 'solid',\r\n                                color: '#4fd6d2'\r\n                            }\r\n                        },\r\n                        emphasis: {\r\n                            color: '#4fd6d2',\r\n                            lineStyle: {\r\n                                // 系列级个性化折线样式\r\n                                width: 2,\r\n                                type: 'dotted',\r\n                                color: '#4fd6d2' //折线的颜色\r\n                            }\r\n                        }\r\n                    }, //线条样式\r\n                    symbolSize: 0 //折线点的大小\r\n                }\r\n            ]\r\n        })\r\n        myChart3.value.setOption({\r\n            xAxis: {\r\n                type: 'category',\r\n                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\r\n                show: false\r\n            },\r\n            yAxis: {\r\n                type: 'value'\r\n            },\r\n            series: [\r\n                {\r\n                    data: [820, 932, 901, 934, 1290, 1330, 1320],\r\n                    type: 'line',\r\n                    smooth: true\r\n                }\r\n            ]\r\n        })\r\n        myChart4.value.setOption({\r\n            xAxis: {\r\n                type: 'category',\r\n                boundaryGap: false,\r\n                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n            },\r\n            yAxis: {\r\n                type: 'value'\r\n            },\r\n            series: [\r\n                {\r\n                    data: [820, 932, 901, 934, 1290, 1330, 1320],\r\n                    type: 'line',\r\n                    areaStyle: {}\r\n                }\r\n            ]\r\n        })\r\n        myChart5.value.setOption({\r\n            legend: {\r\n                orient: 'horizontal',\r\n                x: 'right',\r\n                y: 'top',\r\n                padding: [10, 30, 0, 0],\r\n                itemWidth: 30\r\n            },\r\n            grid: {\r\n                left: 100,\r\n                right: 0,\r\n                top: 50,\r\n                bottom: 50\r\n            },\r\n            yAxis: {\r\n                type: 'value'\r\n            },\r\n            xAxis: {\r\n                show: false,\r\n                type: 'category',\r\n                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\r\n            },\r\n            series: [\r\n                {\r\n                    name: 'A 销售',\r\n                    type: 'bar',\r\n                    stack: 'total',\r\n                    barWidth: '60%',\r\n                    data: [10, 154, 45, 45, 45, 4, 5, 87, 8]\r\n                },\r\n                {\r\n                    name: 'B 销售',\r\n                    type: 'bar',\r\n                    stack: 'total',\r\n                    barWidth: '60%',\r\n                    data: [175, 154, 45, 45, 45, 4, 5, 87, 8]\r\n                },\r\n                {\r\n                    name: 'C 销售',\r\n                    type: 'bar',\r\n                    stack: 'total',\r\n                    barWidth: '60%',\r\n                    data: [175, 154, 45, 45, 45, 4, 5, 97, 8]\r\n                }\r\n            ]\r\n        })\r\n    })\r\n})\r\n\r\n// 表格数据\r\nlet tableData = ref([])\r\nonMounted(() => {\r\n    // 加载表格数据\r\n    http({\r\n        url: '/repost',\r\n        method: 'post'\r\n    }).then(({ data }) => {\r\n        tableData.value = data.list\r\n    })\r\n})\r\n\r\nwindow.addEventListener('resize', () => {\r\n    nextTick(() => {\r\n        myChart1.value.resize()\r\n        myChart2.value.resize()\r\n        myChart3.value.resize()\r\n        myChart4.value.resize()\r\n        myChart5.value.resize()\r\n    })\r\n})\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.echarts-box {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 2fr;\r\n    grid-template-rows: auto;\r\n    grid-gap: 20px;\r\n    grid-template-areas: 'a b c ' 'a d e ';\r\n    .echarts-item {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        height: 300px;\r\n        .title {\r\n            font-size: 16px;\r\n            font-weight: 600;\r\n            color: #333;\r\n        }\r\n    }\r\n}\r\n.echarts-box {\r\n    .echarts {\r\n        width: 100%;\r\n        height: 300px;\r\n    }\r\n}\r\n</style>\r\n"],"names":["props","__props","themeColor","reactive","watch","val","sum","searchForm","ref","option1","myChart1","shallowRef","myChart2","myChart3","myChart4","myChart5","initEcharts","salesOrderRankingDOM","firstResponseTimeDOM","averageResponseTimeDOM","numberOfRegistrationsInTheLast30DaysDOM","theNumberOfOrdersInTheLast30DaysDOM","echarts.init","http","res","nextTick","echarts.graphic.LinearGradient","tableData","onMounted","data"],"mappings":"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"}